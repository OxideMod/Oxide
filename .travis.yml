language: csharp

# Add build number to version
before_script: sed -ri "s/VersionNumber\((.*), 0\)/VersionNumber(\1, $TRAVIS_BUILD_NUMBER)/g" Oxide.Core/OxideMod.cs

# Build the project
solution: Oxide.sln

# Run deployment script
after_success: "[[ $TRAVIS_PULL_REQUEST == false ]] && [[ $TRAVIS_REPO_SLUG == strykes/Oxide ]] && [[ $TRAVIS_BRANCH == master ]] && ./deploy.sh"

notifications:
  # Disable build status email notifications, until the issue with forks is fixed
  email: false
  # IRC notification
  irc: "chat.freenode.net#rustexp"

# Environmental system variables
env:
  global:
    # Super secure, encrypted variables! Ssssh!
    - secure: "AAAAB3NzaC1yc2EAAAADAQABAAAAgQCvWe74qv4gMKXX4HKqGcJZdLAZcsp+hK3vpjVimGZaMCK3Ud7i5+zdXoSc5sO4Dk9q8unwyo9sNnNRkc1vU1ZSvm5c6MnckFERjXq7fIhTOfy6qCO8krRp1up1s0yX/RjTbTXKHRbX4N9ULIQXNx/erQXw+MB/1yQNZ3n14AKsnQ=="
